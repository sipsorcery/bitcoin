<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Label="configInitTarget" Project="..\common.init.vcxproj" />
  <ItemGroup Label="ProjectConfigurations">
    <ProjectConfiguration Include="Debug|Win32">
      <Configuration>Debug</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|Win32">
      <Configuration>Release</Configuration>
      <Platform>Win32</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Debug|x64">
      <Configuration>Debug</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
    <ProjectConfiguration Include="Release|x64">
      <Configuration>Release</Configuration>
      <Platform>x64</Platform>
    </ProjectConfiguration>
  </ItemGroup>
  <PropertyGroup Label="Globals">
    <VCProjectVersion>15.0</VCProjectVersion>
    <VcpkgTriplet Condition="'$(Platform)'=='Win32'">x86-windows-static</VcpkgTriplet>
    <VcpkgTriplet Condition="'$(Platform)'=='x64'">x64-windows-static</VcpkgTriplet>
    <ProjectGuid>{2B4ABFF8-D1FD-4845-88C9-1F3C0A6512BF}</ProjectGuid>
    <QtIncludeDir>N:\Qt\Qtv5.9.7_64_VS2017\qtbase\include</QtIncludeDir>
    <QtToolsDir>N:\Qt\Qtv5.9.7_64_VS2017\qtbase\bin</QtToolsDir>
    <ProtobufToolsDir>C:\Dev\github\vcpkg\installed\x64-windows-static\tools\protobuf</ProtobufToolsDir>
	<GeneratedFilesOutDir>.\$(Platform)\$(Configuration)\qt</GeneratedFilesOutDir>
  </PropertyGroup>
  <ItemGroup>
    <ClCompile Include="..\..\src\qt\addressbookpage.cpp" />
    <ClCompile Include="..\..\src\qt\addresstablemodel.cpp" />
    <ClCompile Include="..\..\src\qt\askpassphrasedialog.cpp" />
    <ClCompile Include="..\..\src\qt\bantablemodel.cpp" />
    <ClCompile Include="..\..\src\qt\bitcoin.cpp" />
    <ClCompile Include="..\..\src\qt\bitcoinaddressvalidator.cpp" />
    <ClCompile Include="..\..\src\qt\bitcoinamountfield.cpp" />
    <ClCompile Include="..\..\src\qt\bitcoingui.cpp" />
    <ClCompile Include="..\..\src\qt\bitcoinstrings.cpp" />
    <ClCompile Include="..\..\src\qt\bitcoinunits.cpp" />
    <ClCompile Include="..\..\src\qt\clientmodel.cpp" />
    <ClCompile Include="..\..\src\qt\coincontroldialog.cpp" />
    <ClCompile Include="..\..\src\qt\coincontroltreewidget.cpp" />
    <ClCompile Include="..\..\src\qt\csvmodelwriter.cpp" />
    <ClCompile Include="..\..\src\qt\editaddressdialog.cpp" />
    <ClCompile Include="..\..\src\qt\guiutil.cpp" />
    <ClCompile Include="..\..\src\qt\intro.cpp" />
    <ClCompile Include="..\..\src\qt\modaloverlay.cpp" />
    <ClCompile Include="..\..\src\qt\networkstyle.cpp" />
    <ClCompile Include="..\..\src\qt\notificator.cpp" />
    <ClCompile Include="..\..\src\qt\openuridialog.cpp" />
    <ClCompile Include="..\..\src\qt\optionsdialog.cpp" />
    <ClCompile Include="..\..\src\qt\optionsmodel.cpp" />
    <ClCompile Include="..\..\src\qt\overviewpage.cpp" />
    <ClCompile Include="..\..\src\qt\paymentrequestplus.cpp">
      <ExcludedFromBuild>true</ExcludedFromBuild>
    </ClCompile>
    <ClCompile Include="..\..\src\qt\paymentserver.cpp" />
    <ClCompile Include="..\..\src\qt\peertablemodel.cpp" />
    <ClCompile Include="..\..\src\qt\platformstyle.cpp" />
    <ClCompile Include="..\..\src\qt\qvalidatedlineedit.cpp" />
    <ClCompile Include="..\..\src\qt\qvaluecombobox.cpp" />
    <ClCompile Include="..\..\src\qt\receivecoinsdialog.cpp" />
    <ClCompile Include="..\..\src\qt\receiverequestdialog.cpp" />
    <ClCompile Include="..\..\src\qt\recentrequeststablemodel.cpp" />
    <ClCompile Include="..\..\src\qt\rpcconsole.cpp" />
    <ClCompile Include="..\..\src\qt\sendcoinsdialog.cpp" />
    <ClCompile Include="..\..\src\qt\sendcoinsentry.cpp" />
    <ClCompile Include="..\..\src\qt\signverifymessagedialog.cpp" />
    <ClCompile Include="..\..\src\qt\splashscreen.cpp" />
    <ClCompile Include="..\..\src\qt\trafficgraphwidget.cpp" />
    <ClCompile Include="..\..\src\qt\transactiondesc.cpp" />
    <ClCompile Include="..\..\src\qt\transactiondescdialog.cpp" />
    <ClCompile Include="..\..\src\qt\transactionfilterproxy.cpp" />
    <ClCompile Include="..\..\src\qt\transactionrecord.cpp" />
    <ClCompile Include="..\..\src\qt\transactiontablemodel.cpp" />
    <ClCompile Include="..\..\src\qt\transactionview.cpp" />
    <ClCompile Include="..\..\src\qt\utilitydialog.cpp" />
    <ClCompile Include="..\..\src\qt\walletcontroller.cpp" />
    <ClCompile Include="..\..\src\qt\walletframe.cpp" />
    <ClCompile Include="..\..\src\qt\walletmodel.cpp" />
    <ClCompile Include="..\..\src\qt\walletmodeltransaction.cpp" />
    <ClCompile Include="..\..\src\qt\walletview.cpp" />
    <ClCompile Include="..\..\src\qt\winshutdownmonitor.cpp" />
    <ClCompile Include="$(GeneratedFilesOutDir)\moc\*.cpp" />
    <ClCompile Include="$(GeneratedFilesOutDir)\protobuf\paymentrequest.pb.cc" />
    <ClCompile Include="$(GeneratedFilesOutDir)\rcc\*.cpp" />
    <ClInclude Include="$(GeneratedFilesOutDir)\forms\*.h" />
  </ItemGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v141</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v141</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>true</UseDebugLibraries>
    <PlatformToolset>v141</PlatformToolset>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'" Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>
    <UseDebugLibraries>false</UseDebugLibraries>
    <PlatformToolset>v141</PlatformToolset>
    <WholeProgramOptimization>true</WholeProgramOptimization>
    <CharacterSet>Unicode</CharacterSet>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <LinkIncremental>false</LinkIncremental>
    <Linkage-protobuf>static</Linkage-protobuf>
    <CustomBuildBeforeTargets>ClCompile</CustomBuildBeforeTargets>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <LinkIncremental>true</LinkIncremental>
    <Linkage-protobuf>static</Linkage-protobuf>
    <CustomBuildBeforeTargets>ClCompile</CustomBuildBeforeTargets>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <LinkIncremental>true</LinkIncremental>
    <Linkage-protobuf>static</Linkage-protobuf>
    <CustomBuildBeforeTargets>ClCompile</CustomBuildBeforeTargets>
    <IncludePath>$(VC_IncludePath);$(WindowsSDK_IncludePath);</IncludePath>
    <LinkIncremental>false</LinkIncremental>
    <Linkage-protobuf>static</Linkage-protobuf>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <CustomBuildBeforeTargets>ClCompile</CustomBuildBeforeTargets>
  </PropertyGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
    <ClCompile>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <WarningLevel>Level3</WarningLevel>
      <Optimization>Disabled</Optimization>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>false</IntrinsicFunctions>
      <PreprocessorDefinitions>_X86_;WIN32;HAVE_CONFIG_H;_SCL_SECURE_NO_WARNINGS;WIN32;NDEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <SDLCheck>true</SDLCheck>
      <AdditionalIncludeDirectories>.\GeneratedFiles;..\..\src;..\..\src\univalue\include;.\QtGenerated\mocheaders</AdditionalIncludeDirectories>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>Console</SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
    <ClCompile>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <WarningLevel>Level3</WarningLevel>
      <Optimization>Disabled</Optimization>
      <PreprocessorDefinitions>_X86_;WIN32;HAVE_CONFIG_H;_SCL_SECURE_NO_WARNINGS;WIN32;_DEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <SDLCheck>true</SDLCheck>
      <AdditionalIncludeDirectories>N:\Qt\5.9.7\msvc2017_64\include;N:\Qt\5.9.7\msvc2017_64\include\QtCore;N:\Qt\5.9.7\msvc2017_64\include\QtWidgets;N:\Qt\5.9.7\msvc2017_64\include\QtGui;$(GeneratedFilesOutDir);..\..\src;..\..\src\univalue\include;.\QtGenerated\mocheaders</AdditionalIncludeDirectories>
      <RuntimeLibrary>MultiThreadedDebug</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>Console</SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|x64'">
    <ClCompile>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <WarningLevel>Level3</WarningLevel>
      <Optimization>Disabled</Optimization>
      <PreprocessorDefinitions>_AMD64_;WIN32;HAVE_CONFIG_H;_SCL_SECURE_NO_WARNINGS;_DEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <SDLCheck>true</SDLCheck>
      <AdditionalIncludeDirectories>$(QtIncludeDir);$(QtIncludeDir)\QtNetwork;$(QtIncludeDir)\QtCore;$(QtIncludeDir)\QtWidgets;$(QtIncludeDir)\QtGui;$(GeneratedFilesOutDir)\..\;..\..\src;..\..\src\qt;..\..\src\univalue\include</AdditionalIncludeDirectories>
      <RuntimeLibrary>MultiThreadedDebug</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>Console</SubSystem>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|x64'">
    <ClCompile>
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
      <WarningLevel>Level3</WarningLevel>
      <Optimization>MaxSpeed</Optimization>
      <FunctionLevelLinking>true</FunctionLevelLinking>
      <IntrinsicFunctions>true</IntrinsicFunctions>
      <PreprocessorDefinitions>_AMD64_;WIN32;HAVE_CONFIG_H;_SCL_SECURE_NO_WARNINGS;NDEBUG;_CONSOLE;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <SDLCheck>true</SDLCheck>
      <AdditionalIncludeDirectories>$(QtIncludeDir);$(QtIncludeDir)\QtNetwork;$(QtIncludeDir)\QtCore;$(QtIncludeDir)\QtWidgets;$(QtIncludeDir)\QtGui;$(GeneratedFilesOutDir)\..\;..\..\src;..\..\src\qt;..\..\src\univalue\include</AdditionalIncludeDirectories>
      <RuntimeLibrary>MultiThreaded</RuntimeLibrary>
    </ClCompile>
    <Link>
      <SubSystem>Console</SubSystem>
      <EnableCOMDATFolding>true</EnableCOMDATFolding>
      <OptimizeReferences>true</OptimizeReferences>
      <GenerateDebugInformation>true</GenerateDebugInformation>
    </Link>
  </ItemDefinitionGroup>
  <Import Label="configTarget" Project="..\common.vcxproj" />
  <ItemGroup>
    <QT_MOC Include="..\..\src\qt\bitcoinamountfield.cpp" />
    <QT_MOC Include="..\..\src\qt\intro.cpp" />
    <QT_MOC Include="..\..\src\qt\overviewpage.cpp" />
    <QT_MOC Include="..\..\src\qt\rpcconsole.cpp" />
    <MocHeaderFiles Include="..\..\src\qt\*.h" />
    <ProtobufTemplates Include="..\..\src\qt\*.proto" />
    <ResourceTemplates Include="..\..\src\qt\*.qrc" />
    <UiFormFiles Include="..\..\src\qt\forms\*.ui" />
    <TranslationFiles Include="..\..\src\qt\locale\*.ts" />
  </ItemGroup>
  <Target Name="QtMocCodeIncludeGeneration" BeforeTargets="PrepareForBuild" Inputs="@(QT_MOC)" Outputs="@(QT_MOC->'$(GeneratedFilesOutDir)\%(Filename).moc')">
    <PropertyGroup>
      <ErrorText>There was an error executing the libbitcoin_qt moc code include generation task.</ErrorText>
    </PropertyGroup>
    <MakeDir Directories="$(GeneratedFilesOutDir)" />
	<Exec Command="echo Performing libbitcoin_qt moc code include generation task." />
    <Exec Command="$(QtToolsDir)\moc.exe &quot;%(QT_MOC.Identity)&quot; -o $(GeneratedFilesOutDir)\%(Filename).moc" />
  </Target>
  <Target Name="QtMocHeaderGeneration" BeforeTargets="PrepareForBuild" Inputs="@(MocHeaderFiles)" Outputs="@(MocHeaderFiles->'$(GeneratedFilesOutDir)\moc\moc_%(Filename).cpp')">
    <PropertyGroup>
      <ErrorText>There was an error executing the libbitcoin_qt moc header generation task.</ErrorText>
    </PropertyGroup>
	<Exec Command="echo Performing libbitcoin_qt moc header generation task, output path $(GeneratedFilesOutDir)\moc." />
    <MakeDir Directories="$(GeneratedFilesOutDir)\moc\" />
    <Exec Command="$(QtToolsDir)\moc.exe &quot;%(MocHeaderFiles.Identity)&quot; -o $(GeneratedFilesOutDir)\moc\moc_%(Filename).cpp" />
  </Target>
  <Target Name="QtFormsHeaderGeneration" BeforeTargets="PrepareForBuild" Inputs="@(UiFormFiles)" Outputs="@(UiFormFiles->'$(GeneratedFilesOutDir)\forms\ui_%(Filename).h')">
    <PropertyGroup>
      <ErrorText>There was an error executing the libbitcoin_qt forms header generation task.</ErrorText>
    </PropertyGroup>
	<Exec Command="echo Performing libbitcoin_qt forms header generation task, output path $(GeneratedFilesOutDir)\forms." />
    <MakeDir Directories="$(GeneratedFilesOutDir)\forms\" />
    <Exec Command="$(QtToolsDir)\uic.exe &quot;%(UiFormFiles.Identity)&quot; -o $(GeneratedFilesOutDir)\forms\ui_%(Filename).h" />
  </Target>
  <Target Name="QtTranslationCodeGeneration" BeforeTargets="PrepareForBuild" Inputs="@(TranslationFiles)" Outputs="@(TranslationFiles->'$(GeneratedFilesOutDir)\locale\%(Filename).qm')">
    <PropertyGroup>
      <ErrorText>There was an error executing the libbitcoin_qt translation file generation task.</ErrorText>
    </PropertyGroup>
	<Exec Command="echo Performing libbitcoin_qt translation file generation task, output path $(GeneratedFilesOutDir)\locale." />
    <MakeDir Directories="$(GeneratedFilesOutDir)\locale\" />
    <Exec Command="$(QtToolsDir)\lrelease.exe &quot;%(TranslationFiles.Identity)&quot; -qm $(GeneratedFilesOutDir)\locale\%(Filename).qm" />
  </Target>
  <Target Name="ProtobufCodeGeneration" BeforeTargets="PrepareForBuild" Inputs="@(ProtobufTemplates)" Outputs="@(ProtobufTemplates -> '$(GeneratedFilesOutDir)\protobuf\%(Filename).pb.h','$(GeneratedFilesOutDir)\protobuf\%(Filename).pb.cc')">
    <PropertyGroup>
      <ErrorText>There was an error executing the libbitcoin_qt protobuf code generation task.</ErrorText>
    </PropertyGroup>
    <Exec Command="echo Performing libbitcoin_qt protobuf code generation task, output path $(GeneratedFilesOutDir)\protobuf." />
    <MakeDir Directories="$(GeneratedFilesOutDir)\protobuf\" />
    <Exec Command="$(ProtobufToolsDir)\protoc.exe --cpp_out=$(GeneratedFilesOutDir)\protobuf --proto_path=..\..\src\qt &quot;%(ProtobufTemplates.Identity)&quot;" />
  </Target>
  <Target Name="QtResourceCodeGeneration" BeforeTargets="PrepareForBuild" Inputs="@(ResourceTemplates)" Outputs="@(ResourceTemplates->'$(GeneratedFilesOutDir)\rcc\qrc_%(Filename).cpp')">
    <PropertyGroup>
      <ErrorText>There was an error executing the libbitcoin_qt resource code generation task.</ErrorText>
    </PropertyGroup>
    <Exec Command="echo Performing libbitcoin_qt resource code generation task, output path $(GeneratedFilesOutDir)\rcc." />
    <MakeDir Directories="$(GeneratedFilesOutDir)\rcc\" />
    <Exec Command="$(QtToolsDir)\rcc.exe -name %(Filename) &quot;%(ResourceTemplates.Identity)&quot; -o $(GeneratedFilesOutDir)\rcc\qrc_%(Filename).cpp" />
  </Target>
  <Target Name="Clean">
    <RemoveDir Directories="$(GeneratedFilesOutDir)\forms\*" />
    <RemoveDir Directories="$(GeneratedFilesOutDir)\locale\*" />
    <RemoveDir Directories="$(GeneratedFilesOutDir)\moc\*" />
    <RemoveDir Directories="$(GeneratedFilesOutDir)\protobuf\*" />
    <RemoveDir Directories="$(GeneratedFilesOutDir)\rcc\*" />
    <RemoveDir Directories="$(GeneratedFilesOutDir)" />
  </Target>
</Project>